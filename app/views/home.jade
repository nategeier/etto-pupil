etto-logged-in-nav

etto-verify-modal(redirect-to='/etto')
.container-full.home
  .row
    .left-holder.nopad(ng-class="user.auth.canCreateCourses ? 'col-sm-8 col-md-9' : 'col-sm-12'")
      .leaderboard(etto-update-company)
        .row
          .col-xs-12.col-sm-12.col-md-6
            .col-md-12
              h3#title(editable-text="company.leaderboard.title", buttons="no", blur="submit", onaftersave="updateLeaderboard()") {{company.leaderboard.title}}
              h4#subtite(editable-text="company.leaderboard.subtitle", buttons="no", blur="submit", onaftersave="updateLeaderboard()") {{company.leaderboard.subtitle}}
          .col-sm-12.col-md-6#head-img
            img.img-responsive.default-lg.pull-right.img-uploadable(src="{{company.leaderboard.imgUrl}}", etto-asset-library-modal, ng-click='updateMainImg()')
        
      .etto-courses
        .main-holder(ng-show="usersCourses[0]")
          .alert.alert-danger(ng-show="err")
            p {{err}}
          .row
            .col-xs-12
              div(class="animate-repeat", ng-repeat='course in usersCourses | filter:searchCourse')
                .nopad(ng-class="user.auth.canCreateCourses ? 'col-sm-6 col-md-4 col-lg-3' : 'col-sm-6 col-md-3 col-lg-2'")
                  .course-holder.img-rounded(sink-in, ng-click="openCourse(course)")
                    img.img-responsive.course-thumb.img-rounded(src="{{course.thumb}}")
                    div(ng-if="course._record")
                      img.img-responsive.badge(src="/images/courses/badges/default.png", ng-show="course._record.progress.bookmark === course._record.progress.totalBlocks && course._record.progress.totalBlocks !== 1")
                    .row 
                      .col-xs-12
                        h4 {{course.title}}
                        p {{course.subtitle}}

                    .progress(ng-show="!course._record")
                      .progress-bar(role="progressbar", aria-valuenow="1", aria-valuemin="0", aria-valuemax="100", style="width: 1%;")
                    .progress(ng-show="course._record")
                      .progress-bar(ng-show="course._record.progress.totalBlocks > 1", role="progressbar", aria-valuenow="{{(course._record.progress.bookmark/course._record.progress.totalBlocks) * 100}}", aria-valuemin="0", aria-valuemax="100", style="width: {{(course._record.progress.bookmark/course._record.progress.totalBlocks) * 100}}%;")

      .col-sm-12.col-md-12(ng-show="!usersCourses[0] && user.auth.canInvite", etto-on-boarding)
    
    .col-sm-4.col-md-3.nopad(ng-show="user.auth.canCreateCourses")
      .panel.panel-default
        
        .panel-heading
           h3.modal-title Composed Courses
           input.form-control(type='text', ng-model='searchComposedCourse', placeholder='Search Courses')
        .list-group
          div(ng-repeat='course in createdCourses | filter:searchComposedCourse')
            .etto-composed-course.list-group-item(sink-in)
              a(href="/course/edit/{{ course._id }}")
                .row
                  .col-xs-5.col-sm-5
                    img.img-responsive.user-course-thumb.img-rounded(src="{{course.thumb}}")

                  .col-xs-7.col-sm-7
                    h5 {{course.title}}
              button.close.aria-hidden.pull-right.delete-course(etto-remove-course, type="button", ng-click='removeCourse(course._id, course.title)')
                i.fa.fa-trash-o


