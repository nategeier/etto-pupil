
<div class="row quiz-block">
  <div class="col-md-10 col-md-offset-1">
    <etto-block-quiz>
      <h1 editable-text="block.data.title" buttons="no" blur="submit" onaftersave="saveCourse()">{{ block.data.title || course.title + " Quiz"}} </h1>
      <div ng-show="isEditing">
        <div ng-repeat="q in block.data.questions track by $index">
          <div class="question col-md-10 col-md-offset-1">
            <button ng-click="deleteQuestion(block.data.questions, $index)" class="btn btn-danger btn-sm pull-right">X</button>
            <h4 editable-text="q.question" buttons="no" blur="submit" onaftersave="saveCourse()" ng-show="isEditing">{{$index + 1}}. {{ q.question || "author"}}</h4>
            <div class="clearfix"></div>
            <table class="table table-no-border">
              <tr ng-repeat="a in q.answers track by $index">
                <td editable-text="a.answer" buttons="no" blur="submit" onaftersave="saveCourse()"> {{alphabet[$index]}} ) {{ a.answer || "author"}}</td>
                <td>
                  <div class="checkbox">
                    <lable>Correct
                      <input type="checkbox" ng-model="a.correct"/>
                    </lable>
                  </div>
                </td>
                <td>
                  <button ng-click="deleteAnswer(q.answers, $index)" class="btn btn-danger btn-sm">X</button>
                </td>
              </tr>
            </table>
            <button ng-click="addAnswer(block.data.questions, $index)" class="btn btn-default btn-sm">Add answer</button>
          </div>
        </div>
        <div class="col-md-10 col-md-offset-1">
          <button ng-click="addQuestion(block.data.questions)" class="btn btn-success btn-sm">Add question</button>
        </div>
      </div>
      <div ng-show="!isEditing">
        <div ng-repeat="q in block.data.questions track by $index">
          <div id="question{{$index}}" class="question col-md-10 col-md-offset-1">
            <h4>{{$index + 1}}. {{q.question}}</h4>
            <div ng-repeat="a in q.answers track by $index">
              <div ng-click="checkAnswer(a.correct, $parent.$index)" class="btn btn-default w100">
                <div class="radio">
                  <label>{{alphabet[$index]}} ) {{a.answer}}
                    <input type="radio" name="q{{$parent.$index}}"/>
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-md-offset-3">
          <button ng-click="evaluate()" class="btn btn-success w100">Evaluate</button>
        </div>
      </div>
    </etto-block-quiz>
  </div>
</div>